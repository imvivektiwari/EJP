!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=function(e,t,n,i,o,a){let r=e.getElementsByTagName("i")[0];this.showPause=()=>{t.classList.remove("active"),r.classList.remove("fa-play-circle"),r.classList.add("fa-pause-circle"),e.classList.add("active")},this.showPlay=()=>{r.classList.add("fa-play-circle"),r.classList.remove("fa-pause-circle"),e.classList.remove("active")},this.stop=()=>{t.classList.add("active"),r.classList.add("fa-play-circle"),r.classList.remove("fa-pause-circle"),e.classList.remove("active")},this.repeat=e=>{e?n.classList.add("active"):n.classList.remove("active")},this.setMediaDuration=e=>{i.innerText=e},this.updateCurrentTime=e=>{o.innerText=e},this.setMediaName=e=>{e.length>35&&(e=e.substring(0,35)+"..."),a.innerText=e}};let o,a,r,l;const s=()=>{l=window.requestAnimationFrame(s);let e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e),a.clearRect(0,0,o.width,o.height),a.fillStyle="#3C9FB8";for(var t=0;t<100;t++){var n=3*t,i=-e[t]/2;a.fillRect(n,o.height,2,i)}};let c,d=new Audio,u=document.getElementById("analyser-render"),m=document.getElementById("video-player"),p=d,y=0,f=!1;const v=e=>{let t=e[0];B(t.type),p.pause(),t.type.includes("audio")?(d.src=t.path,p=d,((e,t)=>{o=t,a=o.getContext("2d");let n=new AudioContext;try{if(!r){let t=n.createMediaElementSource(e);r=n.createAnalyser(),t.connect(r),r.connect(n.destination)}}catch(e){}setTimeout(()=>{s()},500)})(d,u)):t.type.includes("video")&&(window.cancelAnimationFrame(l),m.src=t.path,p=m),p.play(),c.setMediaName(t.name),c.showPause(),y=1,setTimeout(()=>{c.setMediaDuration(new Date(1e3*Math.floor(p.duration)).toISOString().substr(11,8))},1500),f=!0},g=()=>{f&&1===y?(y=0,p.pause(),c.showPlay()):f&&0===y&&(y=1,p.play(),c.showPause())},h=()=>{f&&(p.pause(),p.currentTime=0,c.stop())},w=()=>{c.showPlay(),y=0},E=()=>{p.loop=!p.loop,c.repeat(p.loop),d.loop=p.loop,m.loop=p.loop},L=e=>{let t=e.target.value/100;d.volume=t,m.volume=t},b=()=>{c.updateCurrentTime(new Date(1e3*Math.floor(p.currentTime)).toISOString().substr(11,8))},B=e=>{console.log(e),e.includes("audio")?(u.style.display="block",m.style.display="none"):e.includes("video")&&(m.style.display="block",u.style.display="none")};window.addEventListener("load",(function(e){let t=document.getElementById("play-button"),n=document.getElementById("stop-button"),o=document.getElementById("repeat-button"),a=document.getElementById("total-duration"),r=document.getElementById("current-time"),l=document.getElementById("volume-range"),s=document.getElementById("media-name");t.addEventListener("click",g),n.addEventListener("click",h),o.addEventListener("click",E),c=new i(t,n,o,a,r,s);let u=document.getElementById("media-chooser");document.getElementById("media-chooser-button").addEventListener("click",()=>{u.click()}),u.addEventListener("change",(function(){v(this.files)})),d.addEventListener("timeupdate",b),m.addEventListener("timeupdate",b),m.onended=w,d.onended=w,l.addEventListener("input",L),document.getElementById("window-close").addEventListener("click",()=>window.close())}))}]);